# YML test file for T-SQL JSON functions
# Issue: https://github.com/quarylabs/sqruff/issues/1793, #1794

json_array_null_on_null:
  # Test top-level JSON_ARRAY with NULL ON NULL
  pass_str: |
    SELECT JSON_ARRAY('a', 1, NULL, 2 NULL ON NULL);

json_array_absent_on_null:
  # Test top-level JSON_ARRAY with ABSENT ON NULL
  pass_str: |
    SELECT JSON_ARRAY('a', 1, NULL, 2 ABSENT ON NULL);

json_array_nested_null_on_null:
  # Test nested JSON_ARRAY with NULL ON NULL
  pass_str: |
    SELECT ISJSON(JSON_ARRAY('key1', 'value1', NULL, 'key2', 'value2' NULL ON NULL));

json_array_nested_absent_on_null:
  # Test nested JSON_ARRAY with ABSENT ON NULL  
  pass_str: |
    SELECT ISJSON(JSON_ARRAY('key1', 'value1', NULL, 'key2', 'value2' ABSENT ON NULL));

json_object_null_on_null:
  # Test JSON_OBJECT with NULL ON NULL
  pass_str: |
    SELECT JSON_OBJECT('key1': 'value1', 'key2': NULL NULL ON NULL);

json_object_absent_on_null:
  # Test JSON_OBJECT with ABSENT ON NULL
  pass_str: |
    SELECT JSON_OBJECT('key1': 'value1', 'key2': NULL ABSENT ON NULL);

json_object_nested_null_on_null:
  # Test nested JSON_OBJECT with NULL ON NULL
  pass_str: |
    SELECT ISJSON(JSON_OBJECT('data': JSON_ARRAY(1, 2, NULL NULL ON NULL) NULL ON NULL));

json_array_empty:
  # Test empty JSON_ARRAY
  pass_str: |
    SELECT JSON_ARRAY();

json_array_only_null_clause:
  # Test JSON_ARRAY with only null clause
  pass_str: |
    SELECT JSON_ARRAY(NULL ON NULL);

json_array_in_insert:
  # Test JSON_ARRAY in INSERT statement
  pass_str: |
    INSERT INTO MyTable (data)
    VALUES (JSON_ARRAY('item1', 'item2', NULL ABSENT ON NULL));