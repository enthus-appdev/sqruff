file:
- batch:
  - statement:
    - create_trigger_statement:
      - keyword: CREATE
      - keyword: TRIGGER
      - trigger_reference:
        - naked_identifier: reminder1
      - keyword: ON
      - table_reference:
        - object_reference:
          - naked_identifier: Sales
          - dot: .
          - naked_identifier: Customer
      - keyword: AFTER
      - keyword: INSERT
      - comma: ','
      - keyword: UPDATE
      - keyword: AS
      - statement:
        - keyword: RAISERROR
        - bracketed:
          - start_bracket: (
          - expression:
            - quoted_literal: '''Notify Customer Relations'''
          - comma: ','
          - expression:
            - numeric_literal: '16'
          - comma: ','
          - expression:
            - numeric_literal: '10'
          - end_bracket: )
      - statement_terminator: ;
      - statement:
        - naked_identifier: GO
        - expression:
          - data_type:
            - data_type:
              - data_type_identifier: CREATE
        - expression:
          - column_reference:
            - naked_identifier: TRIGGER
        - expression:
          - column_reference:
            - naked_identifier: reminder2
        - expression:
          - data_type:
            - data_type:
              - data_type_identifier: ON
        - expression:
          - column_reference:
            - naked_identifier: Sales
            - dot: .
            - naked_identifier: Customer
        - expression:
          - column_reference:
            - naked_identifier: AFTER
        - expression:
          - column_reference:
            - naked_identifier: INSERT
        - comma: ','
        - expression:
          - column_reference:
            - naked_identifier: UPDATE
        - comma: ','
        - expression:
          - column_reference:
            - naked_identifier: DELETE
        - expression:
          - column_reference:
            - naked_identifier: AS
        - expression:
          - column_reference:
            - naked_identifier: EXEC
        - expression:
          - column_reference:
            - naked_identifier: msdb
            - dot: .
            - naked_identifier: dbo
            - dot: .
            - naked_identifier: sp_send_dbmail
        - tsql_variable: '@profile_name'
        - assignment_operator:
          - raw_comparison_operator: =
        - expression:
          - quoted_literal: '''AdventureWorks2012 Administrator'''
        - comma: ','
        - tsql_variable: '@recipients'
        - assignment_operator:
          - raw_comparison_operator: =
        - expression:
          - quoted_literal: '''danw@Adventure-Works.com'''
        - comma: ','
        - tsql_variable: '@body'
        - assignment_operator:
          - raw_comparison_operator: =
        - expression:
          - quoted_literal: '''Don''''t forget to print a report for the sales force.'''
        - comma: ','
        - tsql_variable: '@subject'
        - assignment_operator:
          - raw_comparison_operator: =
        - expression:
          - quoted_literal: '''Reminder'''
      - statement_terminator: ;
      - statement:
        - naked_identifier: GO
        - expression:
          - data_type:
            - data_type:
              - data_type_identifier: CREATE
        - expression:
          - column_reference:
            - naked_identifier: TRIGGER
        - expression:
          - column_reference:
            - naked_identifier: Purchasing
            - dot: .
            - naked_identifier: LowCredit
        - expression:
          - data_type:
            - data_type:
              - data_type_identifier: ON
        - expression:
          - column_reference:
            - naked_identifier: Purchasing
            - dot: .
            - naked_identifier: PurchaseOrderHeader
        - expression:
          - column_reference:
            - naked_identifier: AFTER
        - expression:
          - column_reference:
            - naked_identifier: INSERT
        - expression:
          - column_reference:
            - naked_identifier: AS
        - expression:
          - function:
            - function_name:
              - function_name_identifier: IF
            - function_contents:
              - bracketed:
                - start_bracket: (
                - expression:
                  - function:
                    - function_name:
                      - function_name_identifier: ROWCOUNT_BIG
                    - function_contents:
                      - bracketed:
                        - start_bracket: (
                        - end_bracket: )
                  - comparison_operator:
                    - raw_comparison_operator: =
                  - numeric_literal: '0'
                - end_bracket: )
        - expression:
          - column_reference:
            - naked_identifier: RETURN
      - statement_terminator: ;
      - statement:
        - if_statement:
          - keyword: IF
          - expression:
            - keyword: EXISTS
            - bracketed:
              - start_bracket: (
              - select_statement:
                - select_clause:
                  - word: SELECT
                  - expression:
                    - numeric_literal: '1'
                - word: FROM
                - from_expression:
                  - from_expression_element:
                    - table_expression:
                      - table_reference:
                        - object_reference:
                          - naked_identifier: inserted
                    - alias_expression:
                      - keyword: AS
                      - naked_identifier: i
                  - join_clause:
                    - keyword: JOIN
                    - from_expression_element:
                      - table_expression:
                        - table_reference:
                          - object_reference:
                            - naked_identifier: Purchasing
                            - dot: .
                            - naked_identifier: Vendor
                      - alias_expression:
                        - keyword: AS
                        - naked_identifier: v
                    - join_on_condition:
                      - join_on_condition:
                        - keyword: ON
                        - expression:
                          - column_reference:
                            - naked_identifier: v
                            - dot: .
                            - naked_identifier: BusinessEntityID
                          - comparison_operator:
                            - raw_comparison_operator: =
                          - column_reference:
                            - naked_identifier: i
                            - dot: .
                            - naked_identifier: VendorID
                - word: WHERE
                - expression:
                  - column_reference:
                    - naked_identifier: v
                    - dot: .
                    - naked_identifier: CreditRating
                  - comparison_operator:
                    - raw_comparison_operator: =
                  - numeric_literal: '5'
              - end_bracket: )
          - if_statements:
            - begin_end_block:
              - keyword: BEGIN
              - statement:
                - keyword: RAISERROR
                - bracketed:
                  - start_bracket: (
                  - expression:
                    - quoted_literal: |-
                        'A vendor''s credit rating is too low to accept new
                        purchase orders.'
                  - comma: ','
                  - expression:
                    - numeric_literal: '16'
                  - comma: ','
                  - expression:
                    - numeric_literal: '1'
                  - end_bracket: )
              - statement_terminator: ;
              - statement:
                - transaction_statement:
                  - transaction_statement:
                    - keyword: ROLLBACK
                    - keyword: TRANSACTION
              - statement_terminator: ;
              - statement:
                - keyword: RETURN
                - expression:
                  - data_type:
                    - data_type:
                      - data_type_identifier: END
              - statement_terminator: ;
              - statement:
                - naked_identifier: GO
                - expression:
                  - data_type:
                    - data_type:
                      - data_type_identifier: CREATE
                - expression:
                  - column_reference:
                    - naked_identifier: TRIGGER
                - expression:
                  - column_reference:
                    - naked_identifier: safety
                - expression:
                  - data_type:
                    - data_type:
                      - data_type_identifier: ON
                - expression:
                  - column_reference:
                    - naked_identifier: DATABASE
                - expression:
                  - column_reference:
                    - naked_identifier: FOR
                - expression:
                  - column_reference:
                    - naked_identifier: DROP_SYNONYM
                - expression:
                  - column_reference:
                    - naked_identifier: AS
                - expression:
                  - function:
                    - function_name:
                      - function_name_identifier: IF
                    - function_contents:
                      - bracketed:
                        - start_bracket: (
                        - expression:
                          - parameterized_expression:
                            - tsql_variable: '@@ROWCOUNT'
                          - comparison_operator:
                            - raw_comparison_operator: =
                          - numeric_literal: '0'
                        - end_bracket: )
                - expression:
                  - column_reference:
                    - naked_identifier: RETURN
              - statement_terminator: ;
              - statement:
                - keyword: RAISERROR
                - bracketed:
                  - start_bracket: (
                  - expression:
                    - quoted_literal: '''You must disable Trigger "safety" to remove synonyms!'''
                  - comma: ','
                  - expression:
                    - numeric_literal: '10'
                  - comma: ','
                  - expression:
                    - numeric_literal: '1'
                  - end_bracket: )
              - statement:
                - transaction_statement:
                  - transaction_statement:
                    - keyword: ROLLBACK
                    - naked_identifier: GO
              - statement:
                - drop_trigger_statement:
                  - drop_trigger_statement:
                    - keyword: DROP
                    - keyword: TRIGGER
                    - trigger_reference:
                      - naked_identifier: safety
                    - keyword: ON
                    - keyword: DATABASE
              - statement_terminator: ;
              - statement:
                - naked_identifier: GO
                - expression:
                  - data_type:
                    - data_type:
                      - data_type_identifier: CREATE
                - expression:
                  - column_reference:
                    - naked_identifier: TRIGGER
                - expression:
                  - column_reference:
                    - naked_identifier: ddl_trig_database
                - expression:
                  - data_type:
                    - data_type:
                      - data_type_identifier: ON
                - expression:
                  - column_reference:
                    - naked_identifier: ALL
                - expression:
                  - column_reference:
                    - naked_identifier: SERVER
                - expression:
                  - column_reference:
                    - naked_identifier: FOR
                - expression:
                  - column_reference:
                    - naked_identifier: CREATE_DATABASE
                - expression:
                  - column_reference:
                    - naked_identifier: AS
                - expression:
                  - column_reference:
                    - naked_identifier: PRINT
                - expression:
                  - quoted_literal: '''Database Created.'''
                - expression:
                  - select_statement:
                    - select_clause:
                      - keyword: SELECT
                      - select_clause_element:
                        - numeric_literal: '1'
                - expression:
                  - data_type:
                    - data_type:
                      - data_type_identifier: GO
                - expression:
                  - data_type:
                    - data_type:
                      - data_type_identifier: CREATE
                - expression:
                  - column_reference:
                    - naked_identifier: TRIGGER
                - expression:
                  - column_reference:
                    - naked_identifier: ddl_trig_database
                - expression:
                  - data_type:
                    - data_type:
                      - data_type_identifier: ON
                - expression:
                  - column_reference:
                    - naked_identifier: ALL
                - expression:
                  - column_reference:
                    - naked_identifier: SERVER
                - expression:
                  - column_reference:
                    - naked_identifier: FOR
                - expression:
                  - column_reference:
                    - naked_identifier: CREATE_DATABASE
                - expression:
                  - column_reference:
                    - naked_identifier: AS
                - expression:
                  - column_reference:
                    - naked_identifier: PRINT
                - expression:
                  - quoted_literal: '''Database Created.'''
              - statement_terminator: ;
              - statement:
                - select_statement:
                  - select_clause:
                    - keyword: SELECT
                    - select_clause_element:
                      - numeric_literal: '1'
              - statement:
                - naked_identifier: GO
                - expression:
                  - data_type:
                    - data_type:
                      - data_type_identifier: DROP
                - expression:
                  - column_reference:
                    - naked_identifier: TRIGGER
                - expression:
                  - column_reference:
                    - naked_identifier: ddl_trig_database
                - expression:
                  - data_type:
                    - data_type:
                      - data_type_identifier: ON
                - expression:
                  - column_reference:
                    - naked_identifier: ALL
                - expression:
                  - column_reference:
                    - naked_identifier: SERVER
              - statement_terminator: ;
              - statement:
                - naked_identifier: GO
                - expression:
                  - data_type:
                    - data_type:
                      - data_type_identifier: CREATE
                - expression:
                  - column_reference:
                    - naked_identifier: TRIGGER
                - expression:
                  - column_reference:
                    - naked_identifier: connection_limit_trigger
                - expression:
                  - data_type:
                    - data_type:
                      - data_type_identifier: ON
                - expression:
                  - column_reference:
                    - naked_identifier: ALL
                - expression:
                  - column_reference:
                    - naked_identifier: SERVER
                - expression:
                  - column_reference:
                    - naked_identifier: WITH
                - expression:
                  - column_reference:
                    - naked_identifier: EXECUTE
                - expression:
                  - column_reference:
                    - naked_identifier: AS
                - expression:
                  - quoted_literal: '''login_test'''
                - expression:
                  - column_reference:
                    - naked_identifier: FOR
                - expression:
                  - column_reference:
                    - naked_identifier: LOGON
                - expression:
                  - column_reference:
                    - naked_identifier: AS
                - expression:
                  - column_reference:
                    - naked_identifier: BEGIN
                - expression:
                  - data_type:
                    - data_type:
                      - data_type_identifier: IF
                - expression:
                  - function:
                    - function_name:
                      - function_name_identifier: ORIGINAL_LOGIN
                    - function_contents:
                      - bracketed:
                        - start_bracket: (
                        - end_bracket: )
                  - comparison_operator:
                    - raw_comparison_operator: =
                  - quoted_literal: '''login_test'''
                  - binary_operator: AND
                  - bracketed:
                    - start_bracket: (
                    - expression:
                      - select_statement:
                        - select_clause:
                          - keyword: SELECT
                          - select_clause_element:
                            - function:
                              - function_name:
                                - function_name_identifier: COUNT
                              - function_contents:
                                - bracketed:
                                  - start_bracket: (
                                  - star: '*'
                                  - end_bracket: )
                        - from_clause:
                          - keyword: FROM
                          - from_expression:
                            - from_expression_element:
                              - table_expression:
                                - table_reference:
                                  - object_reference:
                                    - naked_identifier: sys
                                    - dot: .
                                    - naked_identifier: dm_exec_sessions
                        - where_clause:
                          - keyword: WHERE
                          - expression:
                            - column_reference:
                              - naked_identifier: is_user_process
                            - comparison_operator:
                              - raw_comparison_operator: =
                            - numeric_literal: '1'
                            - binary_operator: AND
                            - column_reference:
                              - naked_identifier: original_login_name
                            - comparison_operator:
                              - raw_comparison_operator: =
                            - quoted_literal: '''login_test'''
                    - end_bracket: )
                  - comparison_operator:
                    - raw_comparison_operator: '>'
                  - numeric_literal: '3'
                - expression:
                  - column_reference:
                    - naked_identifier: ROLLBACK
              - statement_terminator: ;
              - keyword: END
            - statement_terminator: ;
            - word: GO
            - word: Create
            - word: TRIGGER
            - word: dbo
            - dot: .
            - word: tr_SP_BALS_L2_ATTRIBUTES
            - word: ON
            - word: dbo
            - dot: .
            - word: SP_BALS_L2_ATTRIBUTES
            - word: AFTER
            - word: UPDATE
            - word: AS
            - word: UPDATE
            - word: dbo
            - dot: .
            - word: SP_BALS_L2_ATTRIBUTES
            - word: SET
            - word: PDW_LAST_UPDATED
            - raw_comparison_operator: =
            - word: Getdate
            - start_bracket: (
            - end_bracket: )
            - word: FROM
            - word: dbo
            - dot: .
            - word: SP_BALS_L2_ATTRIBUTES
            - word: o
            - word: INNER
            - word: JOIN
            - word: Inserted
            - word: i
            - word: ON
            - word: o
            - dot: .
            - word: PK_L2_BALS
            - raw_comparison_operator: =
            - word: i
            - dot: .
            - word: PK_L2_BALS
            - word: go
            - word: disable
            - word: trigger
            - word: dbo
            - dot: .
            - word: tr_SP_BALS_L2_ATTRIBUTES
            - word: on
            - word: dbo
            - dot: .
            - word: SP_BALS_L2_ATTRIBUTES
            - word: go
            - word: Create
            - word: TRIGGER
            - word: dbo
            - dot: .
            - word: tr_u_SP_BALS_L2_ATTRIBUTES
            - word: ON
            - word: dbo
            - dot: .
            - word: SP_BALS_L2_ATTRIBUTES
            - word: AFTER
            - word: UPDATE
            - word: AS
            - word: UPDATE
            - word: dbo
            - dot: .
            - word: SP_BALS_L2_ATTRIBUTES
            - word: SET
            - word: PDW_LAST_UPDATED
            - raw_comparison_operator: =
            - word: sysdatetime
            - start_bracket: (
            - end_bracket: )
            - word: FROM
            - word: dbo
            - dot: .
            - word: SP_BALS_L2_ATTRIBUTES
            - word: o
            - word: INNER
            - word: JOIN
            - word: Inserted
            - word: i
            - word: ON
            - word: o
            - dot: .
            - word: PK_L2_BALS
            - raw_comparison_operator: =
            - word: i
            - dot: .
            - word: PK_L2_BALS
            - word: GO
            - word: DROP
            - word: TRIGGER
            - word: employee_insupd
            - semicolon: ;
            - word: GO
            - word: DROP
            - word: TRIGGER
            - word: safety
            - word: ON
            - word: DATABASE
            - semicolon: ;
            - word: GO
            - word: disable
            - word: trigger
            - word: dbo
            - dot: .
            - word: tr_u_SP_BALS_L2_ATTRIBUTES
            - word: on
            - word: dbo
            - dot: .
            - word: SP_BALS_L2_ATTRIBUTES
            - word: GO
            - word: DISABLE
            - word: TRIGGER
            - word: safety
            - word: ON
            - word: DATABASE
            - semicolon: ;
            - word: GO
            - word: CREATE
            - word: OR
            - word: ALTER
            - word: TRIGGER
            - word: reminder1
            - word: ON
            - word: Sales
            - dot: .
            - word: Customer
            - word: AFTER
            - word: INSERT
            - comma: ','
            - word: UPDATE
            - word: AS
            - word: RAISERROR
            - start_bracket: (
            - single_quote: '''Notify Customer Relations'''
            - comma: ','
            - numeric_literal: '16'
            - comma: ','
            - numeric_literal: '10'
            - end_bracket: )
            - semicolon: ;
            - word: GO
            - word: CREATE
            - word: TRIGGER
            - word: reminder
            - word: ON
            - word: person
            - dot: .
            - word: address
            - word: AFTER
            - word: UPDATE
            - word: AS
            - word: IF
            - start_bracket: (
            - word: UPDATE
            - start_bracket: (
            - word: stateprovinceid
            - end_bracket: )
            - word: OR
            - word: UPDATE
            - start_bracket: (
            - word: postalcode
            - end_bracket: )
            - end_bracket: )
            - word: BEGIN
            - word: RAISERROR
            - start_bracket: (
            - numeric_literal: '50009'
            - comma: ','
            - numeric_literal: '16'
            - comma: ','
            - numeric_literal: '10'
            - end_bracket: )
            - word: END
            - semicolon: ;
            - word: GO
